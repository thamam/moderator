# Production environment configuration - Claude Code CLI Backend
# config/production_claude_config.yaml
#
# REFERENCE EXAMPLE: Copy to config.yaml for production use with Claude Code CLI backend
# This configuration uses the Claude CLI tool for code generation.
#
# Prerequisites:
# 1. Install Claude CLI: https://docs.anthropic.com/claude/docs/claude-cli
# 2. Authenticate: Follow Claude CLI setup instructions

# Git repository path (top-level so GitManager can access it)
repo_path: "."

# Project settings
project:
  name: "moderator-production"

# Backend configuration - Claude Code CLI
backend:
  type: "claude_code"
  cli_path: "claude"  # Path to claude executable (or full path like /usr/local/bin/claude)
  timeout: 300        # 5 minutes
  retry_attempts: 3

# State management
state_dir: "./state"

# Logging - less verbose for production
logging:
  level: "INFO"
  console: true
  format: "%(asctime)s - %(levelname)s - %(message)s"
  file: "./logs/moderator.log"  # Optional: log to file

# Git settings
git:
  auto_commit: false
  pr_draft: true
  require_approval: true  # Manual review required in production
  default_branch: "main"

# Rate limiting (for production backends)
rate_limit:
  requests_per_minute: 10
  cooldown_seconds: 60

# Gear 3 Configuration - Claude Code CLI Backend preferences
gear3:
  ever_thinker:
    enabled: false
    max_cycles: 3
    perspectives:
      - performance
      - code_quality
      - testing

  qa:
    tools:
      - pylint
      - flake8
    thresholds:
      error: 0
      warning: 20
    fail_on_error: true

  parallel:
    enabled: false
    max_workers: 4
    timeout: 3600

  learning:
    db_path: "./state/learning.db"
    pattern_threshold: 0.75

  monitoring:
    enabled: false
    metrics:
      - success_rate
      - error_rate
      - token_usage
    alert_thresholds:
      success_rate: 0.85
      error_rate: 0.15

  backend_routing:
    rules:
      - task_type: prototyping
        backend: claude_code  # Use Claude Code for all task types
      - task_type: refactoring
        backend: claude_code
      - task_type: testing
        backend: claude_code
    preferences:
      default_backend: claude_code
      fallback_backend: claude_code
